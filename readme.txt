Функция scan файла crop.py принимает два аргумента: путь до файла изображения в любом растровом формате и флаг (0 / 1), означающий наличие фона по краям паспорта (что из себя представляет фон - неважно).
Пример вызова из cmd:
`py -c "from crop import scan; scan('scan.jpg', 1)"`

Файлы model.yml, recognize.py и opencv_borders.py являются зависимостями crop.py.
При первом запуске необходимые python-библиотеки устанавливаются автоматически в фоновом режиме (с выводом в консоль, откуда были запущены).
Результат работы crop.py находится в файле result.json. Данный файл перезаписывается при каждом запуске программы.

Файл templates.json содержит шаблоны распознаваемых паспортов. При необходимости, шаблоны могут быть дополнены посредством ручного редактирования, либо запуском функции add файла add_template.py, принимающей переменную template - новый шаблон в следующем формате:
словарь, ключами которого являются "snum", "surname", "received_in", "name", "patronym", "gender", "birth", "born_in", "receive_date", "code", "data" - серия и номер, фамилия, место выдачи, имя, отчество, пол, дата рождения, место рождения, дата выдачи, код подразделения соответственно и нижние строки паспорта.
Значениями, кодируемыми ключами, являются списки следующего формата:
[a1, a2, a3, a4], где a1 * ширину паспорта - левая граница поля на изображении, a2 * высоту - верхняя, a3 * ширину - правая, a4 * высоту - нижняя
Переменная template - словарь, следовательно, пары ключей и значений могут быть приняты в любом порядке.
При наличии нескольких шаблонов, ответ даётся по тому из них, для которого распознано наибольшее количество полей.

requirements.txt содержит список библиотек и их версий, используемый для их начальной установки.

В папке tesseract v5.0.0 находится opensource OCR tesseract. OCR может быть обновлена при условии обновления библиотеки pytesseract до совместимой версии.
В папке app находится приложение с графическим интерфейсом, использующее функционал crop.py

Все используемые программы и наработки свободно распространяются для личного и коммерческого использования.
